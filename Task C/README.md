# AI Blog Generator

A Rails application that generates programming blog articles using AI APIs (OpenAI/ChatGPT, Gemini, or Perplexity).

## Features

- ✅ Generate multiple blog articles from a list of titles
- ✅ AI-powered content generation using OpenAI API
- ✅ View and edit generated articles before publishing
- ✅ Generation log tracking for each article
- ✅ Beautiful, modern UI with markdown rendering
- ✅ Status tracking (draft, generating, published)
- ✅ Manual editing capability before saving

## Setup

### Prerequisites

- Ruby 3.2.2 or higher
- Rails 7.1
- SQLite3
- OpenAI API key (or Gemini/Perplexity API key)

### Installation

1. **Install dependencies:**
```bash
bundle install
```

2. **Set up the database:**
```bash
rails db:create
rails db:migrate
```

3. **Configure OpenAI API key:**
   - Get your API key from https://platform.openai.com/api-keys
   - Set it as an environment variable:
   
   **On Windows (PowerShell):**
   ```powershell
   $env:OPENAI_API_KEY="your-api-key-here"
   ```
   
   **On Linux/Mac:**
   ```bash
   export OPENAI_API_KEY="your-api-key-here"
   ```
   
   **Or create a `.env` file** (recommended for development):
   ```
   OPENAI_API_KEY=your-api-key-here
   ```

4. **Start the Rails server:**
```bash
rails server
```

5. **Visit http://localhost:3000**

### Quick Setup Script

You can also use the setup script:
```bash
bin/setup
```

## Usage

### Generating Articles

1. Navigate to **"New Articles"** (or `/blog/new`)
2. Paste a list of article titles (one per line)
   - You can use the sample titles from `sample_titles.txt`
   - Example:
     ```
     Getting Started with Ruby on Rails
     Understanding JavaScript Promises
     Introduction to React Hooks
     ```
3. Click **"Generate Articles"** and wait for the AI to create content
   - Generation may take a few minutes depending on the number of articles
   - Progress is shown in real-time
4. View generated articles in the blog listing
5. Click on any article to view, edit, or publish it

### Editing Articles

1. Click **"Edit"** on any article
2. Modify the title, content (markdown supported), or status
3. Save changes - articles can be saved as "Draft" or "Published"
4. View generation logs in the article detail page

### Article Status

- **Draft**: Generated but not yet published
- **Generating**: Currently being generated by AI
- **Published**: Ready to be displayed

## Project Structure

```
├── app/
│   ├── controllers/
│   │   └── blog_controller.rb      # Main blog controller
│   ├── models/
│   │   └── post.rb                  # Post model
│   ├── services/
│   │   └── ai_article_service.rb    # AI API integration
│   ├── views/
│   │   └── blog/                    # Blog views
│   └── helpers/
│       └── application_helper.rb    # Markdown helper
├── config/
│   ├── routes.rb                    # Application routes
│   └── database.yml                 # Database configuration
├── db/
│   └── migrate/                     # Database migrations
└── README.md
```

## API Integration

The application uses the OpenAI API by default (`gpt-3.5-turbo` model). 

### Using Other AI APIs

To use other AI APIs (Gemini, Perplexity), modify `app/services/ai_article_service.rb`:

1. **For Gemini API:**
   - Install the `google-apis-aiplatform` gem
   - Update the service to use Gemini's API

2. **For Perplexity API:**
   - Install the `perplexity` gem or use HTTP requests
   - Update the service accordingly

### Customizing the Prompt

Edit the `build_prompt` method in `app/services/ai_article_service.rb` to customize the article generation prompt.

## Sample Titles

A file `sample_titles.txt` is included with example article titles you can use for testing.

## Development

### Running Tests

```bash
rails test
```

### Database Console

```bash
rails dbconsole
```

### Generate a New Migration

```bash
rails generate migration MigrationName
```

## Troubleshooting

### API Key Issues

- Make sure your `OPENAI_API_KEY` is set correctly
- Verify the API key is valid and has credits
- Check the generation log for specific error messages

### Generation Failures

- Check your internet connection
- Verify API rate limits haven't been exceeded
- Review the generation log in the article detail page

### Database Issues

- Run `rails db:reset` to reset the database
- Ensure SQLite3 is properly installed

## Requirements

- Ruby 3.2.2+
- Rails 7.1
- SQLite3
- OpenAI API key (or alternative AI API key)

## License

MIT

## Contributing

Feel free to submit issues and enhancement requests!

